import{f,b}from"./RecommendedPlaylistFirestore-CXob9_ed.js";import{f as g,g as m,n as w,p as x,w as S,o,a as e,c as a,s as u,t as v,F as _,m as k}from"./index-Csc8XsQ4.js";import{D as P}from"./DashboardLayout-A6a7l7S6.js";import"./toastify-B53tPeiT.js";import"./logo-v3-Caxdigjt.js";const R={class:"container-fluid px-4 pt-3"},C={class:"d-flex overflow-auto gap-2 mb-4"},I=["onClick"],j={key:0,class:"container-scroll-wrapper-all mt-3 p-3 rounded"},B={class:"row"},L={class:"card h-100 flex-row shadow-sm p-2 align-items-center video-card-custom"},D=["src","alt"],F={class:"flex-grow-1 d-flex flex-column justify-content-between",style:{"min-width":"0"}},$=["title"],z={class:"d-flex justify-content-start align-items-center mt-2"},A=["onClick"],E={key:1,class:"text-white p-4"},H=g({__name:"RecommendedPage",setup(J){const c=m([]),i=m([]),p=()=>localStorage.getItem("lastRecommendedPlaylistId"),y=t=>{localStorage.setItem("lastRecommendedPlaylistId",t)},r=async t=>{y(t),i.value=await b(t)},h=t=>{if(!i.value[t])return;const s=i.value.map(n=>({video_id:n.video_id,video_title:n.video_title,video_thumbnail:n.video_thumbnail}));k().setPlaylist(s,t)};return w(async()=>{c.value=await f();const t=p();t&&await r(t)}),(t,l)=>(o(),x(P,null,{default:S(()=>[e("div",R,[l[1]||(l[1]=e("h4",{class:"text-white mb-2"},"Playlists Recomendadas",-1)),l[2]||(l[2]=e("p",{class:"text-light mb-3"},"JearCastApp te recomienda estas playlists.",-1)),e("div",C,[(o(!0),a(_,null,u(c.value,s=>(o(),a("button",{key:s.id,class:"btn btn-outline-light flex-shrink-0",style:{"min-width":"200px"},onClick:d=>r(s.id)},v(s.name.replace(/_/g," ")),9,I))),128))]),l[3]||(l[3]=e("div",{class:"text-white rounded shadow mt-4 container-player-jear",id:"player-recommended-container"},null,-1)),i.value.length>0?(o(),a("div",j,[e("div",B,[(o(!0),a(_,null,u(i.value,(s,d)=>(o(),a("div",{key:s.video_id,class:"col-12 col-md-6 col-lg-4 col-xl-3 mb-3"},[e("div",L,[e("img",{src:s.video_thumbnail,alt:s.video_title,class:"rounded-start me-3",style:{width:"120px",height:"80px","object-fit":"cover"}},null,8,D),e("div",F,[e("h6",{class:"card-title text-truncate mb-1",title:s.video_title,style:{"font-size":"0.85rem"}},v(s.video_title),9,$),e("div",z,[e("button",{class:"btn btn-sm btn-outline-danger",onClick:n=>h(d)},l[0]||(l[0]=[e("i",{class:"bi bi-play-circle"},null,-1)]),8,A)])])])]))),128))])])):(o(),a("div",E,"Selecciona una playlist para ver sus canciones."))])]),_:1}))}});export{H as default};
